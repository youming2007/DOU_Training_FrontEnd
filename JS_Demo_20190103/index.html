<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/main.css">
</head>
<body>	
		<label>Ask yes/no questions</label>
		<input type="text" id="text_quest" onkeypress="start();" onkeyup="start();">
		<p id="result">Questions usally containt a questions mark.;</p>
</body>
<script>
	var timeout=null;
	function start() {
		var input =document.getElementById('text_quest')
		if(event.type=="keyup" && event.keyCode==8)
		{
			clearTimeout(timeout);
			myfun(input);
		}	
		else if(event.type=='keypress')
		{
			clearTimeout(timeout);
			myfun(input);
		}
	}

	function myfun(gt){
		document.getElementById('result').innerHTML='Waiting for you to stop typing...';
		timeout = setTimeout(function main() {
		var text =gt.value;
		if(text.lastIndexOf('?')==-1)
		{
			document.getElementById('result').innerHTML='Questions usally containt a questions mark.;';
		}
		else
		{
			if(text.slice(-1)!='?')
			{
				document.getElementById('result').innerHTML='must question mark at end question.;';	
			}
			else
			{
				fetch('https://yesno.wtf/api')
				.then(function(response) {
	    		return response.json();
	  			})
				.then(function(myJson) {
				 if( myJson.answer=='yes')
				 {
				 	document.getElementById('result').innerHTML='yes';
				 }
		   		 else
		   		 {
		   		 	document.getElementById('result').innerHTML='Thinking...';
		   		 }
			});
		}}},500)
	}
</script>
</html>